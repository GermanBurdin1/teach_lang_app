<div class="gabarit-page px-3 py-2">
  <h3>üìö Mat√©riel du cours ({{ lesson.date | date: 'dd/MM/yyyy' }})</h3>

  <!-- üìÑ Textes -->
  <div class="zone text-zone mt-3">
    <h5>üìù Textes</h5>
    <div *ngFor="let t of texts" class="material-item">
      <div *ngIf="isString(t); else objectText" class="item">{{ getDisplayName(t) }}</div>
      <ng-template #objectText>
        <div class="material-card">
          <h6>{{ t.title || t.name || 'Texte' }}</h6>
          <p *ngIf="t.description" class="description">{{ t.description }}</p>
          <div *ngIf="t.content" class="content">{{ t.content }}</div>
          <a *ngIf="t.url" [href]="t.url" target="_blank" class="btn btn-sm btn-outline-primary">Ouvrir</a>
        </div>
      </ng-template>
    </div>
  </div>

  <!-- üéß Audios -->
  <div class="zone audio-zone mt-3">
    <h5>üîä Audios</h5>
    <div *ngFor="let a of audios" class="material-item">
      <div *ngIf="isString(a); else objectAudio" class="item">
        <div class="d-flex align-items-center">
          <i class="fas fa-music me-2"></i>
          <span>{{ getDisplayName(a) }}</span>
        </div>
        <audio *ngIf="isAudioUrl(a)" controls class="w-100 mt-2">
          <source [src]="a" type="audio/mpeg">
          <source [src]="a" type="audio/wav">
          <source [src]="a" type="audio/ogg">
          Votre navigateur ne supporte pas l'audio HTML5.
        </audio>
      </div>
      <ng-template #objectAudio>
        <div class="material-card audio-card">
          <div class="d-flex align-items-center">
            <i class="fas fa-music me-2"></i>
            <div class="flex-grow-1">
              <h6 class="mb-1">{{ a.title || a.name || 'Audio' }}</h6>
              <p *ngIf="a.description" class="description mb-0">{{ a.description }}</p>
            </div>
          </div>
          <!-- –ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å –¥–ª—è URL -->
          <audio *ngIf="a.url" controls class="w-100 mt-2">
            <source [src]="a.url" type="audio/mpeg">
            <source [src]="a.url" type="audio/wav">
            <source [src]="a.url" type="audio/ogg">
            Votre navigateur ne supporte pas l'audio HTML5.
          </audio>
          <!-- –ü—Ä–æ–∏–≥—Ä—ã–≤–∞—Ç–µ–ª—å –¥–ª—è content (–µ—Å–ª–∏ content —Å–æ–¥–µ—Ä–∂–∏—Ç URL) -->
          <audio *ngIf="!a.url && a.content && isAudioUrl(a.content)" controls class="w-100 mt-2">
            <source [src]="a.content" type="audio/mpeg">
            <source [src]="a.content" type="audio/wav">
            <source [src]="a.content" type="audio/ogg">
            Votre navigateur ne supporte pas l'audio HTML5.
          </audio>
          <!-- –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ URL -->
          <div *ngIf="!a.url && a.content && !isAudioUrl(a.content)" class="content">{{ a.content }}</div>
        </div>
      </ng-template>
    </div>
  </div>

  <!-- üé¨ Vid√©os -->
  <div class="zone video-zone mt-3">
    <h5>üé¨ Vid√©os</h5>
    <div *ngFor="let v of videos" class="material-item">
      <div *ngIf="isString(v); else objectVideo" class="item">
        <div class="d-flex align-items-center">
          <i class="fas fa-video me-2"></i>
          <span>{{ getDisplayName(v) }}</span>
        </div>
        <video *ngIf="isVideoUrl(v)" controls class="w-100 mt-2">
          <source [src]="v" type="video/mp4">
          <source [src]="v" type="video/webm">
          <source [src]="v" type="video/ogg">
          Votre navigateur ne supporte pas la vid√©o HTML5.
        </video>
      </div>
      <ng-template #objectVideo>
        <div class="material-card video-card">
          <div class="d-flex align-items-center">
            <i class="fas fa-video me-2"></i>
            <div class="flex-grow-1">
              <h6 class="mb-1">{{ v.title || v.name || 'Vid√©o' }}</h6>
              <p *ngIf="v.description" class="description mb-0">{{ v.description }}</p>
            </div>
          </div>
          <!-- –ü–ª–µ–µ—Ä –¥–ª—è URL -->
          <video *ngIf="v.url" controls class="w-100 mt-2">
            <source [src]="v.url" type="video/mp4">
            <source [src]="v.url" type="video/webm">
            <source [src]="v.url" type="video/ogg">
            Votre navigateur ne supporte pas la vid√©o HTML5.
          </video>
          <!-- –ü–ª–µ–µ—Ä –¥–ª—è content (–µ—Å–ª–∏ content —Å–æ–¥–µ—Ä–∂–∏—Ç URL –≤–∏–¥–µ–æ) -->
          <video *ngIf="!v.url && v.content && isVideoUrl(v.content)" controls class="w-100 mt-2">
            <source [src]="v.content" type="video/mp4">
            <source [src]="v.content" type="video/webm">
            <source [src]="v.content" type="video/ogg">
            Votre navigateur ne supporte pas la vid√©o HTML5.
          </video>
          <!-- –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ URL -->
          <div *ngIf="!v.url && v.content && !isVideoUrl(v.content)" class="content">{{ v.content }}</div>
        </div>
      </ng-template>
    </div>
  </div>
</div>
