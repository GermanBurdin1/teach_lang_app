<div class="lesson-notes-modal">
  <div class="modal-header">
    <h2 class="modal-title">
      <span class="section-icon">{{ getSectionIcon() }}</span>
      {{ getSectionTitle() }}
    </h2>
    <button mat-icon-button (click)="onClose()" class="close-button">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <div class="modal-content">
    <div class="item-info">
      <h4>{{ data.itemText }}</h4>
    </div>

    <div class="notes-section">
      <h5>üìã –ö–æ–Ω—Å–ø–µ–∫—Ç</h5>
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>–ó–∞–ø–∏—Å–∏ –ø–æ —Ç–µ–º–µ</mat-label>
        <textarea 
          matInput 
          [(ngModel)]="noteContent"
          (ngModelChange)="onContentChange($event)"
          placeholder="–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å –∑–∞–º–µ—Ç–∫–∏ –≤–æ –≤—Ä–µ–º—è –æ—Ç—Ä–∞–±–æ—Ç–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞..."
          rows="12"
          class="notes-textarea">
        </textarea>
      </mat-form-field>
    </div>

    <div class="save-status" *ngIf="lastSaved || isSaving">
      <mat-icon *ngIf="isSaving" class="saving-icon spin">sync</mat-icon>
      <mat-icon *ngIf="!isSaving && lastSaved" class="saved-icon">check_circle</mat-icon>
      <span *ngIf="isSaving">–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ...</span>
      <span *ngIf="!isSaving && lastSaved">
        –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ {{ getFormattedDate() }}
      </span>
    </div>
  </div>

  <div class="modal-actions">
    <button mat-button (click)="onClose()" class="cancel-btn">
      –ó–∞–∫—Ä—ã—Ç—å
    </button>
    <button mat-raised-button color="primary" (click)="onSave()" class="save-btn">
      <mat-icon>save</mat-icon>
      –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
    </button>
  </div>
</div> 