<div class="container mt-4" [ngStyle]="{ 'backgroundImage': backgroundStyle, 'backgroundSize': 'cover' }">
  <div class="row justify-content-between align-items-start">
    <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å —Å –∏–∫–æ–Ω–∫–∞–º–∏ -->
    <div class="col-md-2 list-section d-flex flex-column align-items-center">
      <div *ngFor="let icon of listIcons; let i = index; trackBy: trackByIndex" class="icon-item">
        <i [ngClass]="icon"></i>
      </div>
    </div>

    <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏ –≤–∫–ª–∞–¥–∫–∞–º–∏ -->
    <div class="col-md-8 d-flex flex-column align-items-center justify-content-between cards-section">
      <app-tabs [showTabs]="false">
        <ng-container *ngIf="(lessonTabsService.contentView$ | async) === 'default'" tab-content-cards>
          <h2 class="text-center main-title">–ó–∞–¥–∞–π—Ç–µ –æ–±—É—á–∞—é—â–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª</h2>
          <div class="d-flex option-cards justify-content-between">
            <div class="option-card" (mouseover)="highlightCard('create')" (mouseout)="resetCard('create')"
              (click)="openLanguageModal()">
              <div class="emoji mb-2">‚ú®</div>
              <div class="card-title text-center">–°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –æ–±—É—á–∞—é—â–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª</div>
            </div>
            <div class="option-card" (mouseover)="highlightCard('choose')" (mouseout)="resetCard('choose')">
              <div class="emoji mb-2">üìñ</div>
              <div class="card-title text-center">–í—ã–±—Ä–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –æ–±—É—á–∞—é—â–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª</div>
            </div>
          </div>
        </ng-container>

        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–∫–∏ "–£—Ä–æ–∫" -->
        <ng-container *ngIf="(lessonTabsService.contentView$ | async) === 'lessonView'" tab-content-lesson>

          <h2 class="lessonView-title">Section 1</h2>
          <div class="lesson-content text-center">
            <img src="https://cdn.cloudstori.com/shells/words_shell/words_shell_3.1.5.15/img/Emoji-145.34d213b2.png"
              alt="Book Icon" />
            <p>–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –µ—â–µ –Ω–µ—Ç —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π. –î–æ–±–∞–≤—å—Ç–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ.</p>
            <button class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</button>
          </div>
          <div class="lesson-navigation d-flex justify-content-between mt-3">
            <button class="btn btn-secondary">–ù–∞–∑–∞–¥</button>
            <button class="btn btn-primary">–î–∞–ª–µ–µ</button>
            <button class="btn btn-danger">–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–∑–¥–µ–ª</button>
          </div>

        </ng-container>
        <ng-container *ngIf="(lessonTabsService.contentView$ | async) === 'homeworkView'" tab-content-homework>
          <h2 class="text-center main-title">–î–æ–º–∞—à–Ω—è—è —Ä–∞–±–æ—Ç–∞</h2>
          <div class="d-flex option-cards justify-content-between">
            <div class="option-card">
              <div class="emoji mb-2">‚â°</div>
              <div class="card-title text-center">–í—ã–±—Ä–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</div>
            </div>
            <div class="option-card">
              <div class="emoji mb-2">‚úé</div>
              <div class="card-title text-center">–°–æ–∑–¥–∞—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</div>
            </div>
          </div>
        </ng-container>

      </app-tabs>
    </div>

    <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å —Å –∫–Ω–æ–ø–∫–æ–π –∑–≤–æ–Ω–∫–∞ -->
    <div class="col-md-3 call-card text-center">
      <div class="icon mb-3">üìû</div>
      <h6>–ü–æ–∑–≤–æ–Ω–∏—Ç–µ —É—á–µ–Ω–∏–∫–∞–º –≥—Ä—É–ø–ø—ã, –∫–æ–≥–¥–∞ —É—Ä–æ–∫ –Ω–∞—á–Ω–µ—Ç—Å—è</h6>
      <button class="btn btn-success">–ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
      <!-- –°–ø–∏—Å–æ–∫ —Ä–∞–∑–¥–µ–ª–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ -->
      <div class="w-100" *ngIf="lessonTabsService.rightPanelVisible$ | async">
        <!-- Section 1 -->
        <div class="d-flex align-items-center justify-content-between mb-3 border-bottom pb-2">
          <span class="fw-bold">Section 1</span>
          <span class="badge bg-primary rounded-circle" style="width: 10px; height: 10px;"></span>
        </div>

        <!-- –î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª -->
        <div class="d-flex align-items-center justify-content-between mb-3 border-bottom pb-2">
          <span class="text-secondary">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª</span>
          <i class="bi bi-plus-circle text-secondary"></i>
        </div>

        <!-- –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫ -->
        <div class="d-flex align-items-center justify-content-between mb-3 border-bottom pb-2">
          <span class="text-danger">–ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Ä–æ–∫</span>
          <i class="bi bi-flag-fill text-danger"></i>
        </div>

        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ -->
        <div class="d-flex align-items-center justify-content-between">
          <span class="text-muted">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</span>
          <i class="bi bi-file-earmark-text text-muted"></i>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" tabindex="-1" [ngClass]="{ 'show d-block': showLanguageModal }" *ngIf="showLanguageModal"
    style="background-color: rgba(0, 0, 0, 0.5);">
    <div class="modal-dialog modal-dialog-centered modal-sm text-center">
      <div class="modal-content p-4 text-center">
        <div class="modal-header border-0">
          <div class="circle"
            style="background-image: url('https://cdn.cloudstori.com/shells/words_shell/words_shell_3.1.5.15/img/Emoji-44.dd0170ec.png'); height: 80px; width: 80px; background-size: cover; margin: 0 auto;">
          </div>
          <button type="button" class="btn-close" aria-label="Close" (click)="closeLanguageModal()"></button>
        </div>
        <div class="modal-body">
          <h5 class="mb-4">–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫</h5>
          <p class="mb-3">–ö–∞–∫–æ–π —è–∑—ã–∫ –±—É–¥–µ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç—å—Å—è –≤ —ç—Ç–æ–º –∫–ª–∞—Å—Å–µ?</p>
          <select class="form-select" [(ngModel)]="selectedLanguage">
            <option *ngFor="let language of languages" [value]="language.value">
              <i [class]="language.icon" style="margin-right: 10px;"></i>{{ language.label }}
            </option>
          </select>
        </div>
        <div class="modal-footer border-0 d-flex justify-content-between">
          <button type="button" class="btn btn-secondary" (click)="closeLanguageModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="button" class="btn btn-primary" (click)="saveLanguage()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>
