<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="d-flex align-items-center">
    <!-- –ö–Ω–æ–ø–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏ -->
    <button class="btn btn-light p-2 me-3" id="expandHeaderButton" (click)="toggleExpandHeader()"
      style="border-radius: 8px;">
      <i class="fas fa-th"></i> <!-- –ò–∫–æ–Ω–∫–∞ —Å–µ—Ç–∫–∏ -->
    </button>
  </div>

  <!-- –ü–∞–Ω–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –≤–µ—Å—å header -->
  <div class="expanded-header bg-white shadow-lg" *ngIf="isHeaderExpanded"
    style="width: 100%; position: absolute; top: 100%; left: 0; z-index: 1040;">
    <div class="container p-4">
      <div class="d-flex justify-content-center">
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
        <div class="card text-center p-3 mx-2" style="width: 200px; cursor: pointer;" (click)="switchToAdmin()">
          <img src="path/to/admin-icon.png" alt="–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" class="mb-2" style="width: 40px;">
          <h6 class="mb-1">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</h6>
          <span class="badge bg-success mb-2">–ê–∫—Ç–∏–≤–µ–Ω</span>
          <p class="small text-muted">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —à–∫–æ–ª—ã</p>
        </div>
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ –£—á–µ–Ω–∏–∫ -->
        <div class="card text-center p-3 mx-2" style="width: 200px; cursor: pointer;" (click)="switchToStudent()">
          <img src="path/to/student-icon.png" alt="–ö–∞–±–∏–Ω–µ—Ç —É—á–µ–Ω–∏–∫–∞" class="mb-2" style="width: 40px;">
          <h6 class="mb-1">–ö–∞–±–∏–Ω–µ—Ç —É—á–µ–Ω–∏–∫–∞</h6>
          <span class="badge bg-success mb-2">–ê–∫—Ç–∏–≤–µ–Ω</span>
          <p class="small text-muted">–ü–æ–ª—É—á–∞–π—Ç–µ –∑–Ω–∞–Ω–∏—è –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ</p>
        </div>
      </div>
    </div>
  </div>

  <div class="container-fluid d-flex justify-content-end align-items-center">
    <!-- Dropdown –¥–ª—è –ø–æ–º–æ—â–∏ -->
    <div class="dropdown mx-2">
      <button class="btn btn-outline-primary dropdown-toggle d-flex align-items-center" type="button" id="helpDropdown"
        data-bs-toggle="dropdown" aria-expanded="false">
        <i class="fas fa-rocket me-2"></i> –ü–æ–º–æ—â—å
      </button>
      <div class="dropdown-menu dropdown-menu-end p-3" aria-labelledby="helpDropdown"
        style="width: 250px; border-radius: 8px;">
        <h6 class="mb-3 d-flex align-items-center">
          <i class="fas fa-school me-2 text-primary"></i> –° —á–µ–≥–æ –Ω–∞—á–∞—Ç—å
        </h6>
        <ul class="list-unstyled mb-0">
          <li><a class="dropdown-item" href="#" (click)="openDemoTour(); $event.preventDefault()">–î–µ–º–æ-—Ç—É—Ä</a></li>
          <li><a class="dropdown-item" href="/youtube-channel">YouTube-–∫–∞–Ω–∞–ª</a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a class="dropdown-item" href="/support">–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞</a></li>
        </ul>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –î–µ–º–æ-—Ç—É—Ä–æ–º -->
    <div class="modal fade" tabindex="-1" [ngClass]="{ 'show d-block': isDemoTourOpen }" *ngIf="isDemoTourOpen"
      style="background: rgba(0, 0, 0, 0.5);">
      <div class="modal-dialog modal-dialog-centered" (click)="$event.stopPropagation()">
        <div class="modal-content p-4">
          <div class="modal-header">
            <h5 class="modal-title">–î–µ–º–æ-—Ç—É—Ä</h5>
            <button type="button" class="btn-close" aria-label="Close" (click)="closeDemoTour()"></button>
          </div>
          <div class="modal-body">
            <ng-container *ngIf="currentStep === 1">
              <div class="text-center mb-3">
                <span style="font-size: 48px;">üëã</span>
                <h4>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ ProgressMe!</h4>
                <p class="text-muted">ProgressMe - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏—è. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç—å
                  –æ–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–∏ –≤–∂–∏–≤—É—é –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—É—Ä—Å—ã –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã.</p>
                <p class="text-muted">–í —ç—Ç–æ–π –∫–æ—Ä–æ—Ç–∫–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤—ã –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ—Å—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏ –∏
                  —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.</p>
              </div>
            </ng-container>

            <!-- –î–æ–±–∞–≤—å—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ -->
            <ng-container *ngIf="currentStep > 1 && currentStep <= 10">
              <p>–®–∞–≥ {{ currentStep }} –∏–∑ 10 - –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–∞–Ω–Ω–æ–º —à–∞–≥–µ.</p>
            </ng-container>
          </div>
          <div class="modal-footer d-flex justify-content-between">
            <button *ngIf="currentStep > 1" type="button" class="btn btn-secondary" (click)="prevStep()">–ù–∞–∑–∞–¥</button>
            <button *ngIf="currentStep < 10" type="button" class="btn btn-primary ms-auto"
              (click)="nextStep()">–î–∞–ª–µ–µ</button>
            <button *ngIf="currentStep === 10" type="button" class="btn btn-success ms-auto"
              (click)="closeDemoTour()">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
          </div>
        </div>
      </div>
    </div>



    <!-- Dropdown –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∞—Ä–∏—Ñ–µ -->
    <div class="dropdown mx-2">
      <button class="btn btn-danger d-flex align-items-center dropdown-toggle" type="button" id="tariffDropdown"
        data-bs-toggle="dropdown" aria-expanded="false" style="border-radius: 16px; padding: 5px 10px;">
        <i class="fas fa-crown me-2"></i> 0 –¥–Ω.
      </button>
      <div class="dropdown-menu dropdown-menu-end p-3" aria-labelledby="tariffDropdown"
        style="width: 250px; border-radius: 8px;">
        <h6 class="text-center">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞—Ä–∏—Ñ–µ</h6>
        <div class="text-center my-2">
          <i class="fas fa-exclamation-triangle text-danger" style="font-size: 24px;"></i>
        </div>
        <p class="text-center text-muted mb-2">–¢–∞—Ä–∏—Ñ –Ω–µ –æ–ø–ª–∞—á–µ–Ω. –û–ø–ª–∞—Ç–∏—Ç–µ —Ç–∞—Ä–∏—Ñ –¥–ª—è –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.
        </p>
        <a class="btn btn-primary w-100" href="/tariffs">–ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç–∞—Ä–∏—Ñ–∞–º</a>
      </div>
    </div>

    <div class="dropdown mx-2">
      <button class="btn btn-outline-dark dropdown-toggle d-flex align-items-center" type="button" id="balanceDropdown"
        data-bs-toggle="dropdown" aria-expanded="false">
        <i class="fas fa-wallet me-2"></i> 0 RUB
      </button>
      <div class="dropdown-menu dropdown-menu-end p-3 text-center" aria-labelledby="balanceDropdown"
        style="width: 250px; border-radius: 8px;">
        <h6 class="mb-3">–ë–∞–ª–∞–Ω—Å –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤</h6>
        <div class="bg-light p-3 rounded mb-3" style="font-size: 24px; color: #555;">
          0 <span style="font-size: 14px;">RUB</span>
        </div>
        <p class="text-muted mb-3">–° –±–∞–ª–∞–Ω—Å–∞ —à–∫–æ–ª—ã –æ–ø–ª–∞—á–∏–≤–∞—é—Ç—Å—è —Ç–∞—Ä–∏—Ñ—ã, —É—á–µ–±–Ω–∏–∫–∏ –∏ —Ç.–¥.</p>
        <button class="btn btn-primary w-100" (click)="openBalanceModal()">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è —Å—É–º–º—ã -->
    <div class="modal fade" tabindex="-1" [ngClass]="{ 'show d-block': showBalanceModal }" role="dialog"
      style="background: rgba(0, 0, 0, 0.5);" *ngIf="showBalanceModal">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</h5>
            <button type="button" class="btn-close" aria-label="Close" (click)="closeBalanceModal()"></button>
          </div>
          <div class="modal-body">
            <div class="text-center mb-3">
              <i class="fas fa-money-bag" style="font-size: 40px; color: #FFD700;"></i>
            </div>
            <p class="text-center">–í–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –≤–∞—à–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞</p>
            <input type="number" [(ngModel)]="amountToTopUp" class="form-control mb-3" placeholder="0" min="0">
            <p class="text-center">RUB</p>
          </div>
          <div class="modal-footer">
            <button class="btn btn-primary" (click)="payWithCard()">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
          </div>
        </div>
      </div>
    </div>


    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç—ã -->
    <div class="modal fade" tabindex="-1" [ngClass]="{ 'show d-block': isPaymentModalOpen }"
      style="background-color: rgba(0, 0, 0, 0.5);" *ngIf="isPaymentModalOpen">
      <div class="modal-dialog modal-dialog-centered" (click)="$event.stopPropagation()">
        <div class="modal-content p-4">
          <div class="modal-header">
            <h5 class="modal-title mt-2">–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ</h5>
            <!-- –ö–Ω–æ–ø–∫–∞-–∫—Ä–µ—Å—Ç–∏–∫ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
            <button type="button" class="btn-close" aria-label="Close" (click)="closePaymentModal()"></button>
          </div>
          <div class="modal-body">
            <div class="text-center mb-3">
              <p class="text-primary display-4">{{ amountToTopUp | currency:'RUB':'symbol':'1.2-2' }}</p>
            </div>
            <input type="text" class="form-control mb-3" placeholder="–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã">
            <div class="d-flex gap-2">
              <input type="text" class="form-control" placeholder="MM / –ì–ì">
              <input type="text" class="form-control" placeholder="CVV">
            </div>
            <div class="form-check my-3">
              <input type="checkbox" class="form-check-input" id="sendReceipt">
              <label class="form-check-label" for="sendReceipt">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–≤–∏—Ç–∞–Ω—Ü–∏—é –Ω–∞ E-mail</label>
            </div>
            <input type="email" class="form-control mb-3" placeholder="Email">
          </div>
          <div class="modal-footer d-flex flex-column gap-2">
            <button type="button" class="btn btn-primary w-100">–û–ø–ª–∞—Ç–∏—Ç—å {{ amountToTopUp |
              currency:'RUB':'symbol':'1.2-2' }}</button>
            <button type="button" class="btn btn-warning w-100">
              –û–ø–ª–∞—Ç–∏—Ç—å <i class="bi bi-apple"></i>
            </button>
            <button type="button" class="btn btn-dark w-100">
              –û–ø–ª–∞—Ç–∏—Ç—å <i class="bi bi-google"></i>
            </button>
          </div>
        </div>
      </div>
    </div>


    <!-- –ò–∫–æ–Ω–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
    <div class="dropdown mx-2">
      <button class="btn btn-light dropdown-toggle d-flex align-items-center" type="button" id="userDropdown"
        data-bs-toggle="dropdown" aria-expanded="false">
        <span class="user-icon rounded-circle d-flex align-items-center justify-content-center me-2">
          G
        </span>
      </button>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
        <li><a class="dropdown-item" href="/profile-settings"><i class="fas fa-cog me-2"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</a></li>
        <li><a class="dropdown-item" href="/tariffs"><i class="fas fa-star me-2"></i> –¢–∞—Ä–∏—Ñ—ã</a></li>
        <li>
          <hr class="dropdown-divider">
        </li>
        <li><a class="dropdown-item" href="/dark-mode"><i class="fas fa-moon me-2"></i> –¢–µ–º–Ω–∞—è —Ç–µ–º–∞</a></li>
        <li><a class="dropdown-item" href="/logout"><i class="fas fa-sign-out-alt me-2"></i> –í—ã—Ö–æ–¥</a></li>
      </ul>
    </div>
