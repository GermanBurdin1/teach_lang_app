<div class="online-lessons" style="max-width: 800px; margin: 0 auto;">
  <h2 class="mb-3">–û–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–∏</h2>
  <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏ (–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –£—á–µ–Ω–∏–∫–∏, –ì—Ä—É–ø–ø—ã, –£—á–∏—Ç–µ–ª—è, –ó–∞—è–≤–∫–∏) -->
  <div class="alert alert-danger d-flex justify-content-between align-items-center"
    style="padding: 16px; border-radius: 8px;">
    <div>
      <i class="bi bi-info-circle-fill me-2" style="color: #f44336;"></i>
      –û–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–∏ –Ω–µ –æ–ø–ª–∞—á–µ–Ω—ã. –î–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –æ–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–æ–≤ –æ–ø–ª–∞—Ç–∏—Ç–µ —Ç–∞—Ä–∏—Ñ.
    </div>
    <button class="btn btn-primary" (click)="openTariffModal()">–î–æ–±–∞–≤–∏—Ç—å</button>
    <app-tariff-modal *ngIf="showTariffModal" [showTariffModal]="showTariffModal"
      (closeTariffModalEvent)="closeTariffModal()"></app-tariff-modal>
  </div>
  <ul class="nav nav-tabs mb-3">
    <li class="nav-item" *ngFor="let tab of ['–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ', '–£—á–µ–Ω–∏–∫–∏', '–ì—Ä—É–ø–ø—ã', '–£—á–∏—Ç–µ–ª—è', '–ó–∞—è–≤–∫–∏']">
      <a class="nav-link" [class.active]="activeLessonTab === tab" (click)="switchLessonTab(tab)">
        {{ tab }}
      </a>
    </li>
  </ul>

  <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è –ø–µ—Ä–≤–æ–π –≤–∫–ª–∞–¥–∫–∏ "–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ" -->
  <div *ngIf="activeLessonTab === '–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ'">
    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ –ª–æ–≥–∏–∫–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—è -->
    <p>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤</p>
    <div class="d-flex justify-content-between align-items-center mb-3">
      <!-- –ë–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ–¥–µ–ª—è–º–∏ -->
      <div class="d-flex align-items-center">
        <button class="btn btn-outline-secondary ms-2" (click)="previousWeek()">&lt;</button>
        <span>{{ currentWeekStart | date: 'd MMM' }} - {{ getWeekDates()[6] | date: 'd MMM' }}</span>
        <button class="btn btn-outline-secondary ms-2" (click)="nextWeek()">&gt;</button>
      </div>

      <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
      <div class="d-flex align-items-center mb-3">
        <div class="me-3">
          <label class="form-label">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</label>
          <select class="form-select">
            <option *ngFor="let timezone of timezones">{{ timezone }}</option>
          </select>
        </div>
        <div class="position-relative">
          <button class="btn btn-outline-secondary" (click)="toggleSettingsMenu()">
            <i class="bi bi-gear"></i>
          </button>
          <div *ngIf="settingsMenuOpen" class="position-absolute bg-white border p-3" style="right: 0;">
            <label for="start-hour" class="form-label">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ —á–∞—Å—ã</label>
            <div class="d-flex align-items-center">
              <select id="start-hour" class="form-select w-auto" (change)="onStartHourChange($event)">
                <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
              </select>
              <span class="mx-2">–¥–æ</span>
              <select id="end-hour" class="form-select w-auto" (change)="onEndHourChange($event)">
                <option *ngFor="let hour of hours" [value]="hour">{{ hour }}</option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è -->
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>–í—Ä–µ–º—è</th>
          <th *ngFor="let day of getWeekDates()">{{ day | date: 'EEEE, d MMMM' }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let hour of filterHours()">
          <td class="time-label">{{ hour }}</td>
          <td *ngFor="let day of daysWithDates" (mouseenter)="showSelectButton(day, hour)"
            (mouseleave)="hideSelectButton(day, hour)" (click)="toggleTimeSlot(day, hour)"
            [ngClass]="{'active-slot': isTimeSlotActive(day, hour), 'current-time': isCurrentTime(day, hour)}">
            <ng-container *ngIf="!isTimeSlotActive(day, hour)">
              <button *ngIf="showButton[day + '-' + hour]" class="btn btn-primary btn-sm"
                (click)="selectSlot(day, hour); $event.stopPropagation()">
                –í—ã–±—Ä–∞—Ç—å
              </button>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div *ngIf="showModal" class="modal fade show d-block" tabindex="-1" role="dialog" aria-labelledby="modalTitle"
    aria-hidden="true" style="background: rgba(0, 0, 0, 0.5);">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content text-center" style="border-radius: 12px; padding: 1rem;">
        <div class="modal-header border-0 justify-content-center position-relative">
          <div class="modal-icon mb-3">
            <i class="bi bi-info-circle-fill" style="font-size: 48px; color: #007bff;"></i>
          </div>
          <button type="button" class="btn-close position-absolute" style="top: 10px; right: 10px;" aria-label="Close"
            (click)="closeModal()"></button>
        </div>
        <div class="modal-body">
          <h5 class="modal-title mb-3" id="modalTitle">–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞</h5>
          <p>–≠—Ç–æ –≤—Ä–µ–º—è –æ—Ç–º–µ—á–µ–Ω–æ –∫–∞–∫ –Ω–µ—Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ—Å—Ç–∞–Ω–æ–≤–∫—É —É—Ä–æ–∫–∞ –Ω–∞ —ç—Ç–æ –≤—Ä–µ–º—è?</p>
        </div>
        <div class="modal-footer justify-content-center border-0">
          <button type="button" class="btn btn-outline-secondary me-3" (click)="closeModal()">–û—Ç–º–µ–Ω–∞</button>
          <button type="button" class="btn btn-primary" (click)="openNewLessonModal()">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏ -->
  <div *ngIf="showNewLessonModal" class="modal fade show d-block" tabindex="-1" role="dialog"
    aria-labelledby="newLessonModalTitle" aria-hidden="true" style="background: rgba(0, 0, 0, 0.5);">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content text-center" style="border-radius: 12px; padding: 1rem;">
        <div class="modal-header border-0 justify-content-between align-items-center">
          <h5 class="modal-title" id="newLessonModalTitle">–ù–æ–≤—ã–π —É—Ä–æ–∫</h5>
          <button type="button" class="btn-close" aria-label="Close" (click)="closeNewLessonModal()"></button>
        </div>
        <div class="modal-body">
          <!-- –í–∫–ª–∞–¥–∫–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
          <ul class="nav nav-tabs mb-3 justify-content-center">
            <li class="nav-item">
              <a class="nav-link" [class.active]="activeModalTab === 'individual'"
                (click)="switchModalTab('individual')">–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" [class.active]="activeModalTab === 'group'"
                (click)="switchModalTab('group')">–ì—Ä—É–ø–ø–æ–≤–æ–π</a>
            </li>
          </ul>

          <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ —É—Ä–æ–∫–∞ -->
          <div *ngIf="activeModalTab === 'individual'">
            <input type="text" class="form-control mb-3" placeholder="–ü–æ–∏—Å–∫ —É—á–µ–Ω–∏–∫–æ–≤" />
            <div class="p-4 border rounded d-flex flex-column align-items-center">
              <div class="mb-3" style="font-size: 64px;">üëã</div>
              <p>–î–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —É—Ä–æ–∫–æ–≤ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å</p>
              <button class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ —É—á–µ–Ω–∏–∫–∞–º</button>
            </div>
          </div>

          <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —É—Ä–æ–∫–∞ -->
          <div *ngIf="activeModalTab === 'group'">
            <input type="text" class="form-control mb-3" placeholder="–ü–æ–∏—Å–∫ –≥—Ä—É–ø–ø" />
            <div class="p-4 border rounded d-flex flex-column align-items-center">
              <div class="mb-3" style="font-size: 64px;">üë•</div>
              <p>–î–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —É—Ä–æ–∫–æ–≤ —Å–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å</p>
              <button class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –≥—Ä—É–ø–ø–∞–º</button>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>



  <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö –≤–∫–ª–∞–¥–æ–∫ -->
  <div *ngIf="activeLessonTab === '–£—á–µ–Ω–∏–∫–∏'">
    <div class="text-center mt-4">
      <div class="emoji-container mb-3" style="font-size: 48px;">üëã</div>
      <p class="lead">–î–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –æ–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–æ–≤ —Å–æ–∑–¥–∞–π—Ç–µ —É—á–µ–Ω–∏–∫–∞</p>
      <button class="btn btn-primary mt-3" (click)="openCreateStudentModal()">–°–æ–∑–¥–∞—Ç—å —É—á–µ–Ω–∏–∫–∞</button>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —É—á–µ–Ω–∏–∫–∞ -->
    <div *ngIf="isCreateStudentModalOpen" class="modal fade show d-block" tabindex="-1"
      style="background-color: rgba(0, 0, 0, 0.5);" (click)="closeCreateStudentModal($event)">
      <div class="modal-dialog modal-dialog-centered" (click)="$event.stopPropagation()">
        <div class="modal-content p-4">
          <div class="modal-header">
            <h5 class="modal-title">–°–æ–∑–¥–∞—Ç—å —É—á–µ–Ω–∏–∫–∞</h5>
            <button type="button" class="btn-close" (click)="closeCreateStudentModal()"></button>
          </div>

          <div class="modal-body">
            <form>
              <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è -->
              <div class="mb-3">
                <label class="form-label">–ü–æ—á—Ç–∞</label>
                <input type="email" class="form-control" placeholder="–≠–ª. –ø–æ—á—Ç–∞ —É—á–µ–Ω–∏–∫–∞">
              </div>
              <div class="mb-3">
                <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input type="tel" class="form-control" placeholder="–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —É—á–µ–Ω–∏–∫–∞">
              </div>
              <div class="mb-3">
                <label class="form-label">–ò–º—è</label>
                <input type="text" class="form-control" placeholder="–ò–º—è —É—á–µ–Ω–∏–∫–∞">
              </div>
              <div class="mb-3">
                <label class="form-label">–†–æ–¥–Ω–æ–π —è–∑—ã–∫</label>
                <select class="form-select">
                  <option>Russian</option>
                  <option>English</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</label>
                <select class="form-select">
                  <option *ngFor="let timezone of timezones">{{ timezone }}</option>
                </select>
              </div>

              <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
              <div *ngIf="showAdditionalInfo">
                <div class="separator mb-2">
                  <span>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
                </div>
                <div class="mb-3">
                  <label class="form-label">–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–≤—è–∑–∏</label>
                  <input type="text" class="form-control" placeholder="–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–≤—è–∑–∏">
                </div>
                <div class="mb-3">
                  <label class="form-label">Skype</label>
                  <input type="text" class="form-control" placeholder="–õ–æ–≥–∏–Ω —É—á–µ–Ω–∏–∫–∞ –≤ Skype">
                </div>
                <div class="mb-3">
                  <label class="form-label">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</label>
                  <input type="text" class="form-control" placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è">
                </div>
                <div class="mb-3">
                  <label class="form-label">–ü–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è</label>
                  <select class="form-select">
                    <option *ngFor="let frequency of frequencies">{{ frequency }}</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label class="form-label">–¶–µ–ª—å –∏–∑—É—á–µ–Ω–∏—è</label>
                  <textarea class="form-control" rows="3" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Ü–µ–ª—å –∏–∑—É—á–µ–Ω–∏—è"></textarea>
                </div>
                <div class="mb-3">
                  <label class="form-label">–ó–∞–º–µ—Ç–∫–∞</label>
                  <textarea class="form-control" rows="3" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –∑–∞–º–µ—Ç–∫—É"></textarea>
                </div>
              </div>

              <button type="button" class="btn btn-link" (click)="toggleAdditionalInfo()">
                {{ showAdditionalInfo ? '–°–∫—Ä—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é' : '–ü–æ–∫–∞–∑–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é' }}
              </button>
            </form>
          </div>

          <div class="modal-footer d-flex justify-content-center align-items-center gap-2">
            <button type="button" class="btn btn-secondary" (click)="closeCreateStudentModal()">–û—Ç–º–µ–Ω–∞</button>
            <button type="button" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
          </div>
        </div>
      </div>
    </div>


  </div>
  <div *ngIf="activeLessonTab === '–ì—Ä—É–ø–ø—ã'">
    <div class="text-center mt-4">
      <div class="emoji-container mb-3" style="font-size: 64px;">üë•</div>
      <p class="lead">–î–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–æ–≤ —Å–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É</p>
      <!-- Button to add class -->
      <button class="btn btn-primary mt-3" (click)="openAccessModal()">
        –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
      </button>
    </div>
    <div *ngIf="showAccessModal" class="modal fade show d-block" tabindex="-1" role="dialog"
      aria-labelledby="accessModalTitle" aria-hidden="true" style="background: rgba(0, 0, 0, 0.5);">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content text-center" style="border-radius: 12px; padding: 1rem;">
          <div class="modal-header">
            <h5 class="modal-title" id="accessModalTitle">–î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω</h5>
            <button type="button" class="btn-close" aria-label="Close" (click)="closeAccessModal()"></button>
          </div>
          <div class="modal-body">
            <p>–î–æ—Å—Ç—É–ø –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–∞—Å –∏ –≤–∞—à–∏—Ö —É—á–µ–Ω–∏–∫–æ–≤. –û–ø–ª–∞—Ç–∏—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∞—Ä–∏—Ñ, —á—Ç–æ–±—ã
              –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.</p>
          </div>
          <div class="modal-footer justify-content-center">
            <button type="button" class="btn btn-secondary" (click)="closeAccessModal()">–ü–æ–∑–∂–µ</button>
            <button class="btn btn-primary" (click)="openTariffModal()">–î–æ–±–∞–≤–∏—Ç—å</button>
            <app-tariff-modal *ngIf="showTariffModal" [showTariffModal]="showTariffModal"
              (closeTariffModalEvent)="closeTariffModal()"></app-tariff-modal>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="activeLessonTab === '–£—á–∏—Ç–µ–ª—è'">
    <div class="input-group mb-3">
      <input type="text" class="form-control" placeholder="–ü–æ–∏—Å–∫ —É—á–∏—Ç–µ–ª–µ–π..." aria-label="–ü–æ–∏—Å–∫ —É—á–∏—Ç–µ–ª–µ–π">
    </div>

    <p class="mb-3">–£—á–∏—Ç–µ–ª–µ–π: <strong>{{ teachers.length }}</strong></p>

    <button class="btn btn-primary mb-4 w-100 d-flex align-items-center justify-content-center"
      (click)="openCreateTeacherModal()">
      <i class="fas fa-user-plus mr-2"></i> –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —É—á–∏—Ç–µ–ª—è
    </button>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —É—á–∏—Ç–µ–ª–µ–π -->
    <div class="teacher-card card mb-3" *ngFor="let teacher of teachers">
      <div class="card-body d-flex justify-content-between align-items-center">
        <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ -->
        <div>
          <!-- –ò–º—è –∏ –∑–Ω–∞—á–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π -->
          <div class="d-flex align-items-center mb-2">
            <h5 class="me-2">{{ teacher.name }}</h5>
            <div class="position-relative" (mouseenter)="showTooltip('profile')" (mouseleave)="hideTooltip()">
              <i class="fas fa-check-circle text-primary"></i>
              <div *ngIf="tooltipVisible === 'profile'" class="simple-tooltip">
                –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
              </div>
            </div>
          </div>

          <!-- ID –∏ Email –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ —Å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π —á–µ—Ä—Ç–æ–π -->
          <div class="d-flex align-items-center mb-2">
            <i class="fas fa-id-badge text-muted me-1"></i> {{ teacher.id }}
            <span class="mx-2 text-muted">|</span>
            <i class="fas fa-envelope text-muted me-1"></i> {{ teacher.email }}
          </div>

          <!-- –ò–∫–æ–Ω–∫–∏ —Ä–æ–ª–µ–π (–û–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–∏, –ú–∞—Ä–∞—Ñ–æ–Ω—ã, –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä) -->
          <div class="d-flex">
            <div class="me-3 position-relative" (mouseenter)="showTooltip('online')" (mouseleave)="hideTooltip()">
              <i class="fas fa-chalkboard-user fa-lg text-info"></i>
              <div *ngIf="tooltipVisible === 'online'" class="simple-tooltip">
                <strong>–û–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–∏</strong><br />
                –°—Ç–∞—Ç—É—Å —É—á–∏—Ç–µ–ª—è: <span class="text-success">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</span><br />
                –£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–Ω–æ—Å—Ç—å: <span class="text-danger">0</span><br />
                –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å: <span class="text-primary">0%</span>
              </div>
            </div>

            <div class="me-3 position-relative" (mouseenter)="showTooltip('marathon')" (mouseleave)="hideTooltip()">
              <i class="fas fa-person-running fa-lg text-info"></i>
              <div *ngIf="tooltipVisible === 'marathon'" class="simple-tooltip">
                <strong>–ú–∞—Ä–∞—Ñ–æ–Ω—ã</strong><br />
                –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
              </div>
            </div>

            <div class="position-relative" (mouseenter)="showTooltip('admin')" (mouseleave)="hideTooltip()">
              <i class="fas fa-user-shield fa-lg text-info"></i>
              <div *ngIf="tooltipVisible === 'admin'" class="simple-tooltip">
                <strong>–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</strong><br />
                –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
              </div>
            </div>
          </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –ü—Ä–æ—Ñ–∏–ª—å, –≤—ã—Ä–æ–≤–Ω–µ–Ω–Ω–∞—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ -->
        <button class="btn btn-outline-primary align-self-start" (click)="openTeacherProfile(teacher.id)">
          –ü—Ä–æ—Ñ–∏–ª—å
        </button>
      </div>
    </div>
    <div *ngIf="isCreateTeacherModalOpen" class="modal fade show d-block" tabindex="-1"
      style="background-color: rgba(0, 0, 0, 0.5);" (click)="closeCreateTeacherModal($event)">
      <div class="modal-dialog modal-dialog-centered" (click)="$event.stopPropagation()">
        <div class="modal-content p-4">
          <div class="modal-header">
            <h5 class="modal-title">–°–æ–∑–¥–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h5>
            <button type="button" class="btn-close" (click)="closeCreateTeacherModal()"></button>
          </div>

          <div class="modal-body">
            <form>
              <!-- Avatar Upload -->
              <div class="mb-3 d-flex align-items-center">
                <label class="form-label me-3">–ê–≤–∞—Ç–∞—Ä–∫–∞</label>
                <div class="me-2" style="width: 40px; height: 40px; background-color: #e6f7d4; border-radius: 5px;">
                </div>
                <input type="file" id="avatarUpload" class="d-none" (change)="onFileSelected($event)">
                <button type="button" class="btn btn-outline-secondary" (click)="triggerFileInput()">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
              </div>

              <!-- Basic Info -->
              <div class="mb-3">
                <label class="form-label">–ü–æ—á—Ç–∞</label>
                <input type="email" class="form-control" placeholder="–ü–æ—á—Ç–∞" [(ngModel)]="newTeacher.email"
                  name="teacherEmail">
              </div>
              <div class="mb-3">
                <label class="form-label">–ò–º—è</label>
                <input type="text" class="form-control" placeholder="–ò–º—è" [(ngModel)]="newTeacher.name"
                  name="teacherName">
              </div>
              <div class="mb-3">
                <label class="form-label">–†–æ–¥–Ω–æ–π —è–∑—ã–∫</label>
                <select class="form-select" [(ngModel)]="newTeacher.nativeLanguage" name="teacherNativeLanguage">
                  <option value="Russian">Russian</option>
                  <option value="English">English</option>
                </select>
              </div>
              <div class="mb-3">
                <label class="form-label">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</label>
                <select class="form-select">
                  <option *ngFor="let timezone of timezones">{{ timezone }}</option>
                </select>
              </div>

              <!-- Additional Information -->
              <div class="separator mb-2">
                <span>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
              </div>
              <button type="button" class="btn btn-link" (click)="toggleAdditionalInfo()">
                {{ showAdditionalInfo ? '–°–∫—Ä—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é' : '–ü–æ–∫–∞–∑–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é' }}
              </button>

              <div *ngIf="showAdditionalInfo" class="mt-3">
                <div class="mb-3">
                  <label class="form-label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                  <input type="tel" class="form-control" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω">
                </div>
                <div class="mb-3">
                  <label class="form-label">–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–≤—è–∑–∏</label>
                  <div class="input-group">
                    <ng-select [(ngModel)]="selectedPlatform" name="selectedPlatform" (change)="updateLinkPlaceholder()"
                      [clearable]="false" [searchable]="false" bindLabel="label" bindValue="value" class="form-select">
                      <ng-option *ngFor="let platform of platforms" [value]="platform.value">
                        <i [class]="platform.icon" style="margin-right: 5px;"></i>{{ platform.label }}
                      </ng-option>
                    </ng-select>

                    <input type="text" class="form-control" [placeholder]="linkPlaceholder" [(ngModel)]="linkInput"
                      name="linkInput">
                  </div>
                </div>

              </div>
            </form>
          </div>
          <div class="possibilities-section mt-3">
            <h6 class="fw-bold">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</h6>
            <div *ngFor="let possibility of possibilities" class="possibility-item">
              <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ -->
              <div class="possibility-header d-flex align-items-center justify-content-between"
                (click)="togglePossibility(possibility)">
                <div class="d-flex align-items-center">
                  <i [class]="possibility.icon" class="possibility-icon me-3"></i>
                  <div>
                    <div class="fw-bold">{{ possibility.title }}</div>
                    <div class="text-muted">{{ possibility.description }}</div>
                  </div>
                </div>
                <span class="badge" [ngClass]="possibility.enabled ? 'badge-enabled' : 'badge-disabled'">
                  {{ possibility.enabled ? '–í–∫–ª—é—á–µ–Ω–æ' : '–û—Ç–∫–ª—é—á–µ–Ω–æ' }}
                </span>
                <i class="bi" [ngClass]="possibility.expanded ? 'bi-chevron-up' : 'bi-chevron-down'"></i>
              </div>

              <!-- –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
              <div *ngIf="possibility.expanded" class="possibility-content mt-3">
                <!-- –û–±—â–∏–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ -->
                <div class="mb-3">
                  <label class="form-label">–ê–∫—Ç–∏–≤–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</label>
                  <div class="form-check form-switch">
                    <input type="checkbox" [(ngModel)]="possibility.enabled" class="form-check-input" id="send-mails"
                      (change)="toggleFeature(possibility)">
                  </div>
                </div>

                <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–æ–ª–∏ "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä" -->
                <ng-container *ngIf="possibility.role === 'admin' && possibility.enabled">
                  <div class="mb-3">
                    <label class="form-label">–î–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–¥–µ–ª–∞–º</label>
                  </div>

                  <div *ngFor="let section of sections" class="d-flex align-items-center justify-content-between mb-2">
                    <div class="d-flex align-items-center">
                      <i [class]="section.icon" class="me-2"></i>
                      <label class="form-check-label" for="{{section.name}}">{{ section.name }}</label>
                    </div>
                    <div class="form-check form-switch">
                      <input type="checkbox" class="form-check-input" [(ngModel)]="section.enabled"
                        id="{{section.name}}">
                    </div>
                  </div>

                  <!-- –°–µ–ø–∞—Ä–∞—Ç–æ—Ä -->
                  <div class="separator mt-4 mb-2">
                    <span>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏</span>
                  </div>

                  <!-- –°–∫–≤–æ–∑–Ω–æ–π –≤—Ö–æ–¥ -->
                  <div class="d-flex align-items-center justify-content-between mb-2">
                    <div class="d-flex align-items-center">
                      <i class="bi bi-door-open me-2"></i>
                      <label class="form-check-label" for="cross-entry">–°–∫–≤–æ–∑–Ω–æ–π –≤—Ö–æ–¥</label>
                    </div>
                    <div class="form-check form-switch">
                      <input type="checkbox" class="form-check-input" [(ngModel)]="crossEntryEnabled" id="cross-entry">
                    </div>
                  </div>
                </ng-container>

                <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–æ–ª–∏ "–£—á–∏—Ç–µ–ª—å –æ–Ω–ª–∞–π–Ω-—É—Ä–æ–∫–æ–≤" -->
                <ng-container *ngIf="possibility.role === 'teacher' && possibility.enabled">
                  <!-- –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–æ–≤ -->
                  <div class="mb-3 row align-items-center">
                    <label class="col-form-label col-3 text-end">–ü—Ä–µ–ø–æ–¥–∞–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏</label>
                    <div class="col-9">
                      <select class="form-select" [(ngModel)]="selectedLanguages">
                        <option *ngFor="let language of availableLanguages" [ngValue]="language">{{ language }}</option>
                      </select>
                    </div>
                  </div>

                  <!-- –†–∞–±–æ—á–∏–π –≥—Ä–∞—Ñ–∏–∫ -->
                  <div class="mb-3">
                    <label class="form-label">–†–∞–±–æ—á–∏–π –≥—Ä–∞—Ñ–∏–∫</label>
                    <div class="d-flex mb-2">
                      <button class="btn btn-outline-primary me-2" (click)="fillSchedule()">–ó–∞–ø–æ–ª–Ω–∏—Ç—å</button>
                      <button class="btn btn-outline-secondary" (click)="fillTeacherSchedule()">–ó–∞–ø–æ–ª–Ω–∏—Ç
                        —É—á–∏—Ç–µ–ª—å</button>
                    </div>
                    <table *ngIf="!teacherWillFill" class="table table-bordered schedule-table">
                      <thead>
                        <tr>
                          <th></th> <!-- –ü—É—Å—Ç–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Å—Ç–æ–ª–±—Ü–∞ –≤—Ä–µ–º–µ–Ω–∏ -->
                          <th *ngFor="let day of daysWithDates">{{ day }}</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let hour of hours">
                          <td class="time-label">{{ hour }}</td> <!-- –°—Ç–æ–ª–±–µ—Ü —Å —á–∞—Å–∞–º–∏ -->
                          <td *ngFor="let day of daysWithDates" (mouseenter)="showSelectButton(day, hour)"
                            (mouseleave)="hideSelectButton(day, hour)" (click)="toggleTimeSlot(day, hour)"
                            [ngClass]="{'active-slot': isTimeSlotActive(day, hour), 'current-time': isCurrentTime(day, hour)}">
                            <ng-container *ngIf="!isTimeSlotActive(day, hour)">
                              <button *ngIf="showButton[day + '-' + hour]" class="btn btn-primary btn-sm"
                                (click)="selectSlot(day, hour); $event.stopPropagation()">
                                –í—ã–±—Ä–∞—Ç—å
                              </button>
                            </ng-container>
                            <ng-container *ngIf="isTimeSlotActive(day, hour)">
                              <i class="bi bi-check2-circle text-success"></i>
                            </ng-container>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>




          <div class="modal-footer d-flex justify-content-center align-items-center gap-2">
            <button type="button" class="btn btn-secondary" (click)="closeCreateTeacherModal()">–û—Ç–º–µ–Ω–∞</button>
            <button type="button" class="btn btn-primary" (click)="addTeacher()">–°–æ–∑–¥–∞—Ç—å</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="activeLessonTab === '–ó–∞—è–≤–∫–∏'">
    <div class="applications-tab">
      <!-- –ë–ª–æ–∫ —Å –≤–æ–ø—Ä–æ—Å–æ–º, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º, –ø–æ–ª–µ–º —Å —Å—Å—ã–ª–∫–æ–π –∏ –∫–Ω–æ–ø–∫–∞–º–∏, –≤ –æ–¥–Ω—É –ª–∏–Ω–∏—é -->
      <div class="d-flex align-items-center justify-content-between mb-3">
        <!-- –ë–ª–æ–∫ —Å –≤–æ–ø—Ä–æ—Å–æ–º -->
        <div class="d-flex align-items-center me-3">
          <span>–ú–æ–π —Å–∞–π—Ç</span>
          <button type="button" class="btn btn-link p-0 ms-2" data-bs-toggle="tooltip" data-bs-placement="top"
            title="–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –ø–æ —ç—Ç–æ–π —Å—Å—ã–ª–∫–µ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤, —á—Ç–æ–±—ã –æ–Ω–∏ –º–æ–≥–ª–∏ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å –≤–∞—à–∏–º–∏ —É—Å–ª—É–≥–∞–º–∏ –∏ –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ">
            <i class="bi bi-question-circle"></i>
          </button>
        </div>

        <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Å —Ç—É–ª—Ç–∏–ø–æ–º –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ -->
        <div class="form-check form-switch me-3 position-relative d-flex align-items-center"
          [attr.title]="!isFormValid ? '–ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –±–ª–æ–∫–∏, –ª–∏–±–æ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–µ–Ω–¥–∏–Ω–≥' : ''"
          data-bs-toggle="tooltip" data-bs-placement="top">
          <div [style.cursor]="!isFormValid ? 'not-allowed' : 'default'" (mouseover)="showInvalidIcon = !isFormValid"
            (mouseleave)="showInvalidIcon = false">
            <input class="form-check-input" type="checkbox" id="publish-toggle" [disabled]="!isFormValid"
              [ngClass]="{'is-invalid': !isFormValid}" [style.cursor]="!isFormValid ? 'not-allowed' : 'default'">
          </div>
          <label class="form-check-label ms-2" for="publish-toggle"></label>
        </div>

        <!-- –ü–æ–ª–µ —Å —Å—Å—ã–ª–∫–æ–π -->
        <div class="position-relative d-flex align-items-center me-3" style="flex-grow: 1;">
          <input type="text" class="form-control" [readonly]="true" [value]="link"
            [ngClass]="{'is-invalid': !isFormValid}" data-bs-toggle="tooltip" data-bs-placement="top"
            [attr.title]="!isFormValid ? '–ü–æ–ª–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ' : ''" (mouseover)="showInvalidIcon = !isFormValid"
            (mouseleave)="showInvalidIcon = false" [style.cursor]="!isFormValid ? 'not-allowed' : 'default'">
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è -->
        <button class="btn btn-outline-secondary me-3" (click)="copyLink()">
          <i class="bi bi-clipboard"></i>
        </button>

        <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <button class="btn btn-outline-primary" (click)="openSettings()">
          <i class="bi bi-gear"></i> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        </button>
      </div>

      <!-- –ß–µ–ª–æ–≤–µ—á–µ–∫ —Å —Ç–µ–∫—Å—Ç–æ–º -->
      <div class="text-center mt-4">
        <div style="font-size: 48px;">üëã</div>
        <p class="lead">–ó–∞—è–≤–æ–∫ –æ—Ç —É—á–µ–Ω–∏–∫–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç</p>
      </div>
    </div>

  </div>
