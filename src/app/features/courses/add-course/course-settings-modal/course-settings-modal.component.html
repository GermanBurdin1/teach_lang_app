<div class="course-settings-modal">
  <div class="modal-header">
    <h2 mat-dialog-title>
      <mat-icon class="settings-icon">settings</mat-icon>
      ParamÃ¨tres de paiement de la formation
    </h2>
    <button mat-icon-button (click)="cancel()" class="close-button">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-dialog-content>
    <div class="settings-form">
      <!-- Ğ‘ĞµÑĞ¿Ğ»Ğ°Ñ‚Ğ½Ñ‹Ğ¹ ĞºÑƒÑ€Ñ -->
      <div class="free-course-toggle">
        <mat-slide-toggle [(ngModel)]="isFree" (change)="onFreeToggle()" [color]="'primary'">
          <span class="toggle-label">Formation gratuite</span>
        </mat-slide-toggle>
        <p class="toggle-hint">Si activÃ©e, la formation sera accessible gratuitement pour tous les Ã©tudiants.</p>
      </div>

      <!-- Prix du cours -->
      <mat-form-field appearance="fill" class="full-width" [class.disabled]="isFree">
        <mat-label>ğŸ’° Prix de la formation</mat-label>
        <input matInput type="number" [(ngModel)]="price" min="0" step="0.01" placeholder="0.00" [disabled]="isFree">
        <span matSuffix>{{ currency }}</span>
      </mat-form-field>

      <!-- Devise -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>ğŸ’± Devise</mat-label>
        <mat-select [(ngModel)]="currency">
          <mat-option *ngFor="let curr of availableCurrencies" [value]="curr">
            {{ curr }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- MÃ©thode de paiement -->
      <mat-form-field appearance="fill" class="full-width" [class.disabled]="isFree">
        <mat-label>ğŸ’³ MÃ©thode de paiement</mat-label>
        <mat-select [(ngModel)]="paymentMethod" [disabled]="isFree">
          <mat-option *ngFor="let method of availablePaymentMethods" [value]="method.value">
            {{ method.label }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Description du paiement -->
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>ğŸ“ Description du paiement</mat-label>
        <textarea matInput [(ngModel)]="paymentDescription" rows="3"
          placeholder="Informations supplÃ©mentaires sur le paiement..."></textarea>
      </mat-form-field>

      <!-- Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ Ğ¾ Ñ†ĞµĞ½Ğµ -->
      <div class="price-info" *ngIf="!isFree">
        <mat-icon>info</mat-icon>
        <p>Les Ã©tudiants devront payer <strong>{{ price }} {{ currency }}</strong> pour accÃ©der Ã  ce cours.</p>
      </div>
      <div class="price-info free-info" *ngIf="isFree">
        <mat-icon>free_breakfast</mat-icon>
        <p>Ce cours est <strong>gratuit</strong> et accessible Ã  tous les Ã©tudiants.</p>
      </div>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="cancel()">Annuler</button>
    <button mat-raised-button color="primary" (click)="saveSettings()">
      Enregistrer
    </button>
  </mat-dialog-actions>
</div>

