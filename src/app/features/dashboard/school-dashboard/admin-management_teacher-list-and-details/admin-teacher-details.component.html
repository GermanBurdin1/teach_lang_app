<div *ngIf="teacher" class="admin-teacher-details">
  <img [src]="teacher.photoUrl" alt="{{ teacher.name }}" class="avatar" />
  <h2>{{ teacher.name }}</h2>
  <p><strong>Spécialisations :</strong> {{ teacher.specializations.join(', ') }}</p>
  <p><strong>Tarif :</strong> {{ teacher.price }} €/h</p>
  <p><strong>Note :</strong> ★ {{ teacher.rating }}</p>
  <h4 class="mt-5">Avis des étudiants</h4>
  <div *ngIf="reviews.length === 0">Pas encore d'avis.</div>

  <div *ngFor="let review of reviews" class="review-item mb-3">
    <strong>{{ review.studentName }}</strong>
    <span class="text-muted small ms-2">{{ review.date | date:'longDate' }}</span>
    <div class="text-warning">
      <i class="fas fa-star" *ngFor="let i of [1,2,3,4,5]; let idx = index"
        [class.text-muted]="idx >= review.rating"></i>
    </div>
    <p class="mt-1 mb-1">{{ review.comment }}</p>

    <button class="btn btn-sm btn-outline-danger" (click)="removeReview(review.id)">Supprimer</button>
  </div>


  <p>
    <strong>Activité :</strong>
    <span [class.active]="teacher.isActive" [class.inactive]="!teacher.isActive">
      {{ teacher.isActive ? 'Actif' : 'Inactif' }}
    </span>
  </p>

  <p><strong>Date d'inscription :</strong> {{ getFormattedDate(teacher.registrationDate) }}</p>

  <p>
    <strong>Modération :</strong>
    <span [class.moderated]="teacher.moderated" [class.not-moderated]="!teacher.moderated">
      {{ teacher.moderated ? 'Validée' : 'Non validée' }}
    </span>
  </p>
</div>

<div *ngIf="!teacher" class="not-found">
  Enseignant non trouvé.
</div>
