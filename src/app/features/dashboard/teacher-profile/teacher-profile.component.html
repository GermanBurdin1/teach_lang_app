<div class="teacher-profile">
  <!-- Основная информация о преподавателе -->
  <div *ngIf="teacherData">
    <h2>{{ teacherData.name }}</h2>
    <p>ID: {{ teacherData.id }}</p>
    <p>Email: {{ teacherData.email }}</p>
  </div>

  <!-- Основные вкладки (Онлайн-уроки, Марафоны, Администратор) -->
  <ul class="nav nav-tabs mb-3">
    <li *ngFor="let tab of tabs" class="nav-item">
      <a class="nav-link" [class.active]="tab === activeTab" (click)="switchTab(tab)">
        {{ tab }}
      </a>
    </li>
  </ul>

  <!-- Вкладка "Онлайн-уроки" -->
  <div *ngIf="activeTab === 'Онлайн-уроки'">
    <p>Статус учителя: <span class="text-success">Активирован</span></p>

    <!-- Подвкладки (Учитель, Классы, Личные материалы) -->
    <ul class="nav nav-pills mb-3">
      <li *ngFor="let subTab of subTabs" class="nav-item">
        <a class="nav-link" [class.active]="subTab === activeSubTab" (click)="switchSubTab(subTab)">
          {{ subTab }}
        </a>
      </li>
    </ul>

    <!-- Содержимое подвкладки "Учитель" -->
    <div *ngIf="activeSubTab === 'Учитель'">
      <p>Расписание уроков</p>
      <div class="d-flex align-items-center mb-3">
        <button class="btn btn-outline-secondary ms-2" (click)="previousWeek()">&lt;</button>
        <span>{{ currentWeekStart | date: 'd MMM' }} - {{ getWeekDates()[6] | date: 'd MMM' }}</span>
        <button class="btn btn-outline-secondary ms-2" (click)="nextWeek()">&gt;</button>
      </div>

      <!-- Таблица расписания -->
      <table class="table table-bordered">
        <thead>
          <tr>
            <th>Время</th>
            <th *ngFor="let day of getWeekDates()">{{ day | date: 'EEEE, d MMMM' }}</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let hour of hours">
            <td class="time-label">{{ hour }}</td> <!-- Столбец с часами -->
            <td *ngFor="let day of daysWithDates"
                (mouseenter)="showSelectButton(day, hour)"
                (mouseleave)="hideSelectButton(day, hour)"
                (click)="toggleTimeSlot(day, hour)"
                [ngClass]="{'active-slot': isTimeSlotActive(day, hour), 'current-time': isCurrentTime(day, hour)}">
              <ng-container *ngIf="!isTimeSlotActive(day, hour)">
                <button *ngIf="showButton[day + '-' + hour]"
                        class="btn btn-primary btn-sm"
                        (click)="selectSlot(day, hour); $event.stopPropagation()">
                  Выбрать
                </button>
              </ng-container>
              <ng-container *ngIf="isTimeSlotActive(day, hour)">
                <i class="bi bi-check2-circle text-success"></i>
              </ng-container>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Контент для вкладки "Марафоны" -->
  <div *ngIf="activeTab === 'Марафоны'">
    <p>Информация о марафонах</p>
  </div>

  <!-- Контент для вкладки "Администратор" -->
  <div *ngIf="activeTab === 'Администратор'">
    <p>Информация о правах администратора</p>
  </div>
</div>
